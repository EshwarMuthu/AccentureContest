import urllib.request
import json
def skills():
    try:
    #print ("i love math")
    #print ("math")
    # with urllib.request.urlopen("https://api.thingspeak.com/channels/547770/feeds.json?api_key=I38L79OYGZZ954RQ&results=2") as url:
    #   		s = url.read()
    #   		print(s)
        s=urllib.request.urlopen("https://api.thingspeak.com/channels/549341/feeds.json?api_key=MBL3G9UVDYJ2VSQ1&results=1")
        t=s.read()
        t=t.decode()
        x = json.loads(t)
        t = x['feeds'][0]['field1']
##        tt1=dict(t)
##        tt1=tt1['feeds']
        tt=int(t)
        return tt

    except Exception as e:
        print (e)
        pass

def skills2():
    try:
        s=urllib.request.urlopen("https://api.thingspeak.com/channels/549342/feeds.json?api_key=URHE1DUY3N0KA2ZY&results=1")
        t=s.read()
        t=t.decode()
        x = json.loads(t)
        t = x['feeds'][0]['field1']
        tt=int(t)
        return tt
    except Exception as e:
        print(e)
        pass

def skills3():
    try:
        s=urllib.request.urlopen("https://api.thingspeak.com/channels/549343/feeds.json?api_key=JA6ACE8SKMGW7XZ9&results=1")
        t=s.read()
        t=t.decode()
        x = json.loads(t)
        t = x['feeds'][0]['field1']
        tt=int(t)
        return tt
    except Exception as e:
        print(e)
        pass

def skills4():
    try:
        s=urllib.request.urlopen("https://api.thingspeak.com/channels/549344/feeds.json?api_key=523X35E2AJUB07EL&results=1")
        t=s.read()
        t=t.decode()
        x = json.loads(t)
        t = x['feeds'][0]['field1']
        tt=int(t)
        return tt
    except Exception as e:
        print(e)
        pass

def skills5():
    try:
        s=urllib.request.urlopen("https://api.thingspeak.com/channels/549345/feeds.json?api_key=BIFEK6Y5S34WOYKN&results=1")
        t=s.read()
        t=t.decode()
        x = json.loads(t)
        t = x['feeds'][0]['field1']
        tt=int(t)
        return tt
    except Exception as e:
        print(e)
        pass
    
def update():
    try:
        s=urllib.request.urlopen("https://api.thingspeak.com/update?api_key=T16BCHGI8DR31N5V&field1=0")
        s1 =urllib.request.urlopen(" http://api.msg91.com/api/sendhttp.php?sender=MYLUNA&route=4&mobiles=8428487713&authkey=229584Aqnoqtc1v5b630565&country=91&message=Fault has been detected in Appliance 1 and it has been switched off")
        
    except Exception as e:
        print(e)
        pass